(()=>{"use strict";var e={672:(e,a,t)=>{t.d(a,{Kz:()=>s});const s="38f02c16bd3f4b208587775b9c332912"}},a={};function t(s){var n=a[s];if(void 0!==n)return n.exports;var l=a[s]={exports:{}};return e[s](l,l.exports,t),l.exports}t.d=(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a);var s=t(672);window.onload=function(){function e(){const e=document.getElementsByClassName("bookmark");Array.from(e).forEach((e=>{e.addEventListener("click",(function(a){let t=sessionStorage.getItem("userId"),s=e.id,n=e.parentElement.parentElement.parentElement.firstElementChild.src,l=e.previousSibling.outerText,i=e.parentElement.parentElement.lastElementChild.lastElementChild.lastElementChild.outerText;fetch("https://web2-course-project-medoski.onrender.com/games/bookmarks/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,gameId:s,gameImg:n,gameName:l,gameRelease:i})}).then((e=>e.json())),e.innerHTML="bookmark"}))}))}function a(){const e=document.getElementsByClassName("game");[].slice.call(e).forEach((e=>{e.addEventListener("click",(function(a){setTimeout(500),a.preventDefault();let t=e.nextSibling.id;window.location.href=`./gameinfo.html?id=${t}`}))}))}(async function(){const e=await fetch("https://api.rawg.io/api/games?key=38f02c16bd3f4b208587775b9c332912&dates=2024-06-01,2024-07-31");return await e.json()})().then((t=>{t.results.forEach((e=>{let a=e.name,t=e.background_image,s=e.released,n=document.getElementById("gamesotm"),l="";l+=`<div class="gamesection">\n       <img class="img" src="${t}" alt="Avatar" style="width:100%">\n       <div class="gametext">\n            <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark game" id="${e.id}">bookmark_border</i></p>\n             <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n       </div>\n    </div>\n    `,n.insertAdjacentHTML("beforeend",l)})),e(),a()})),async function(){const e=await fetch(`https://api.rawg.io/api/games?key=${s.Kz}&dates=2021-01-01,2021-12-31&ordering=-added`);return await e.json()}().then((t=>{t.results.forEach((e=>{let a=e.name,t=e.background_image,s=e.released,n=document.getElementById("populargames"),l="";l+=`   <div class="gamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n            <div class="gametext">\n                <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark game" id="${e.id}">bookmark_border</i></p>\n                <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n\n            </div>\n\n        </div>`,n.insertAdjacentHTML("beforeend",l)})),e(),a()})),async function(){const e=await fetch(`https://api.rawg.io/api/games?key=${s.Kz}&ordering=added`);return await e.json()}().then((t=>{t.results.forEach((e=>{let a=e.name,t=e.background_image,s=e.released,n=document.getElementById("allgames"),l="";l+=`<div class="gamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n     \n            <div class="gametext">\n                 <p class="gametitle"><b class="title game">${a}</b><i class="material-icons bookmark game" id="${e.id}">bookmark_border</i></p>\n                  <p><b class="gamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${s}</b></b></p>\n            </div>\n     \n         </div>`,n.insertAdjacentHTML("beforeend",l)})),e(),a()})),document.getElementById("searchinput").addEventListener("keyup",(async function(t){if(t.preventDefault(),"Enter"!==t.key)return;const n=document.getElementById("searchinput").value.replace(/ /g,"-").toLowerCase();let l=await fetch(`https://api.rawg.io/api/games?search=${n}&key=${s.Kz}`);if(l.ok){let t=(await l.json()).results,s="";t.forEach((e=>{let a=e.name,t=e.background_image,n=e.released,l=document.getElementById("allgamescontainerBookmark");s+=`\n                    <div class="allgamesection">\n            <img class="img" src="${t}" alt="Avatar" style="width:100%">\n\n            <div class="allgametext">\n                <p class="allgametitle"><b class="title game">${a}</b><i class="material-icons bookmark" id="${e.id}">bookmark_border</i></p>\n                <p><b class="allgamerelease">Release date : <b class="allgamereleasedate" id="allgamereleasedate">${n}</b></b></p>\n            </div>\n        </div>`,l.innerHTML=s})),e(),a()}else alert("error: "+response.status)}))}})();